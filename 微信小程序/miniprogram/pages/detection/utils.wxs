// WXSå·¥å…·æ–¹æ³• - æ£€æµ‹é¡µé¢ä¸“ç”¨

// å®‰å…¨çš„toLowerCaseè½¬æ¢
function safeToLowerCase(str) {
  if (str === null || str === undefined) {
    return '';
  }
  var result = str + '';
  return result.toLowerCase();
}

// å®‰å…¨çš„charAtæ“ä½œ  
function safeCharAt(str, index) {
  if (str === null || str === undefined) {
    return '';
  }
  var result = str + '';
  var idx = index || 0;
  return result.charAt(idx) || '';
}

// è·å–é¦–å­—æ¯
function getFirstChar(str) {
  if (str === null || str === undefined) {
    return 'ğŸ';
  }
  var result = str + '';
  return result.charAt(0) || 'ğŸ';
}

// å®‰å…¨çš„å­—ç¬¦ä¸²è½¬æ¢
function safeString(value, defaultValue) {
  if (value === null || value === undefined) {
    return defaultValue || '';
  }
  return value + '';
}

// æ£€æŸ¥æ˜¯å¦ä¸ºç©º
function isEmpty(value) {
  return value === null || value === undefined || value === '';
}

module.exports = {
  safeToLowerCase: safeToLowerCase,
  safeCharAt: safeCharAt,
  safeString: safeString,
  isEmpty: isEmpty,
  getFirstChar: getFirstChar
}; 